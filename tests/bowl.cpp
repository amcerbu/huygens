#include "../src/bowl.h"
#include "../src/metro.h"
#include "../src/audio.h"
#include <signal.h>

using namespace std;
using namespace soundmath;

#define BSIZE 64

static bool running = true;
void interrupt(int ignore)
{
	cout << " [keyboard interrupt, exiting ...]" << endl;
	std::fclose(stdin);
    std::cin.setstate(std::ios::badbit); // To differenciate from EOF input
	running = false;
}

// Bowl<double> singing(155, // CDR
// 					 {4.511208, 5.181268, 5.492524, 5.857275, 5.971733, 6.364040, 6.520147, 6.770382, 7.079365, 7.489858, 7.832770, 8.190825, 8.829395, 9.257172, 11.054429, 11.227626, 12.617141, 12.686332, 12.759832, 13.434966, 13.889123, 18.145704, 18.449709, 21.476089, 28.751421, 29.110506, 32.794155, 205.447250, 205.714340, 208.016113, 394.618439, 411.428802, 413.873840, 416.031952, 595.939636, 599.216370, 599.860107, 649.202515, 716.968567, 804.494507, 804.927124, 807.233643, 1086.095703, 1124.456177, 1127.872681, 1128.039795, 1198.436279, 1198.583862, 1335.376099, 1541.706787, 1570.792114, 1725.621948, 1751.229614, 1752.555420, 1775.784668, 1776.781616, 1955.963257, 1985.521240, 2067.832520, 2256.136475, 2289.581299, 2375.910645, 2493.383545, 2702.737305, 2872.257324, 2879.636475, 2906.274414, 3091.466064, 3407.954102, 3502.409180, 3553.511963, 3620.690918, 3670.771484, 3821.299561, 4037.483154, 4063.655273, 4195.457520, 4207.375000, 4269.574707, 4354.915039, 4387.111816, 4415.179199, 4442.412598, 4476.328613, 4495.494141, 4595.804199, 4662.112793, 4746.078125, 4780.121582, 4806.693359, 4836.881836, 4848.276855, 4869.090332, 4921.474609, 4986.008789, 5067.129883, 5093.436523, 5137.026367, 5155.244629, 5192.102051, 5231.743652, 5276.230469, 5302.375977, 5322.571777, 5340.025879, 5389.860840, 5400.154297, 5465.238770, 5487.837891, 5503.474609, 5543.059570, 5588.006836, 5643.344727, 5693.305176, 5789.936523, 5810.797363, 5840.469238, 5900.449707, 5946.162598, 5984.230469, 5990.207031, 6017.871094, 6107.277344, 6113.243652, 6156.184082, 6165.250488, 6222.518066, 6282.342285, 6389.756836, 6409.893066, 6525.416992, 6549.282715, 6637.109375, 6699.341797, 6761.910645, 6873.153320, 6887.296875, 6968.896484, 7035.428223, 7088.991699, 7134.588379, 7248.551270, 7306.640625, 7385.068359, 7446.965332, 7513.810059, 7550.225098, 7563.655273, 7802.000000, 7895.794434, 8025.125977, 8190.530273, 8277.164062, 8539.139648, 8989.659180}, 
// 					 {0.000292, 0.000404, 0.000533, 0.000228, 0.000221, 0.000335, 0.000377, 0.000394, 0.000221, 0.000203, 0.000203, 0.000122, 0.000117, 0.000174, 0.000250, 0.000174, 0.000494, 0.000381, 0.000632, 0.000832, 0.000301, 0.001035, 0.000143, 0.000113, 0.001128, 0.000112, 0.000296, 0.012608, 0.007538, 0.003153, 0.000147, 0.000711, 0.003222, 0.000786, 0.008605, 0.025234, 0.050804, 0.000136, 0.000187, 0.001423, 0.000974, 0.000660, 0.010407, 0.005102, 0.063214, 0.029577, 0.002647, 0.003642, 0.000411, 0.000250, 0.000157, 0.001909, 0.006333, 0.013674, 0.023742, 0.006360, 0.000379, 0.000352, 0.004087, 0.003963, 0.000213, 0.001359, 0.079736, 0.000202, 0.004493, 0.003732, 0.005963, 0.000544, 0.002783, 0.000535, 0.002780, 0.003133, 0.000222, 0.015694, 0.000182, 0.001642, 0.008988, 0.018440, 0.368241, 0.002729, 0.000251, 0.020338, 0.002244, 0.005856, 0.007564, 0.000236, 0.000205, 0.000183, 0.002624, 0.000324, 0.001389, 0.001484, 0.017547, 0.000462, 0.033735, 0.014560, 0.004438, 0.006451, 0.001838, 0.004931, 0.002092, 0.001162, 0.002420, 0.000598, 0.001872, 0.003837, 0.003213, 0.000219, 0.001037, 0.001204, 0.001234, 0.001684, 0.001823, 0.000362, 0.000590, 0.002616, 0.000960, 0.000143, 0.000374, 0.000172, 0.000428, 0.000689, 0.000854, 0.000348, 0.000996, 0.000444, 0.000391, 0.002287, 0.000937, 0.000811, 0.000370, 0.001510, 0.000140, 0.000692, 0.000473, 0.000202, 0.000221, 0.000188, 0.000769, 0.001329, 0.000926, 0.001040, 0.000950, 0.000919, 0.000397, 0.000397, 0.000823, 0.000242, 0.000679, 0.000451, 0.000320, 0.000586, 0.000955, 0.000169, 0.000247},
// 					 {0.024588, 0.004667, 0.029664, 0.002054, 0.022246, 0.025747, 0.026740, 0.027112, 0.008459, 0.005116, 0.010870, 0.003959, 0.003305, 0.020198, 0.031877, 0.020229, 0.029025, 0.002172, 0.042589, 0.045773, 0.019007, 4.434317, 0.018589, 0.022660, 0.035990, 0.016493, 0.024699, 5.669292, 0.015458, 0.016247, 0.955664, 0.030657, 7.518603, 0.030615, 0.033513, 0.034267, 8.565326, 0.297934, 5.240116, 0.212403, 0.049553, 0.049635, 7.380003, 0.062804, 8.797216, 0.065525, 0.069167, 0.186921, 0.353211, 2.926815, 0.197911, 0.376188, 0.098562, 9.563696, 0.445991, 0.090224, 2.695399, 0.589307, 14.221517, 0.275455, 2.184057, 0.135946, 12.058116, 3.601387, 11.983503, 0.123974, 5.033720, 0.179675, 5.682211, 0.493977, 0.253469, 0.152563, 0.946834, 4.882400, 0.293105, 0.566294, 1.070899, 1.295291, 0.748713, 11.211380, 0.992675, 2.296690, 0.237143, 0.756315, 4.040157, 5.727172, 0.697832, 2.595141, 4.336982, 0.962142, 1.305620, 0.069928, 0.595492, 4.656425, 1.202958, 2.745806, 5.978802, 4.579653, 2.553507, 0.918876, 2.301133, 4.556756, 1.388516, 1.107877, 5.062748, 5.824331, 2.062474, 2.785939, 4.436019, 7.475647, 4.398743, 9.901690, 4.027782, 3.319018, 1.622216, 1.744358, 3.483735, 2.234606, 2.683450, 0.036742, 4.663115, 3.201784, 3.253606, 2.621130, 10.960039, 3.536538, 0.778654, 4.220095, 1.589546, 3.340189, 4.207522, 10.832573, 3.079340, 1.028269, 1.211991, 3.601571, 5.589488, 0.268588, 6.187113, 9.579453, 7.636122, 7.428089, 4.342704, 8.357245, 6.899451, 2.321130, 5.700820, 3.938865, 6.860440, 7.415264, 7.980052, 6.181824, 8.533699, 1.490678, 7.638544});


// Bowl<double> singing(240, // CO
// 					 {4.354173, 4.561543, 5.201204, 5.534245, 7.508246, 10.955913, 12.724259, 12.900678, 13.289531, 13.67321, 17.628258, 30.40921, 32.691658, 159.160629, 318.319824, 463.932861, 871.384766, 871.71814, 875.104187, 927.85553, 1031.781372, 1337.859131, 1367.663574, 1384.366821, 1658.47583, 1743.348511, 1831.933838, 1848.183716, 1943.63623, 1962.291382, 2102.857178, 2239.401855, 2259.028809, 2407.621338, 2582.192871, 2604.631592, 2732.925049, 2768.80957, 2817.987793, 2832.425537, 2842.76709, 2950.771973, 3134.840576, 3232.530029, 3241.144287, 3270.003662, 3297.299561, 3328.219971, 3409.773438, 3456.588867, 3484.862549, 3623.742432, 3630.751709, 3742.515869, 3759.552002, 3775.499023, 3824.547119, 3852.859131, 3989.052246, 4025.677246, 4169.74707, 4185.074219, 4194.308105, 4200.129883, 4206.182617, 4256.163086, 4302.768066, 4366.914062, 4402.597656, 4465.367676, 4478.949707, 4490.431152, 4513.838867, 4545.503418, 4574.230469, 4632.570312, 4638.046387, 4682.09082, 4711.959473, 4765.78418, 4794.616699, 4842.245117, 4860.320801, 4873.698242, 4900.560059, 4925.201172, 4949.000488, 4979.286621, 5004.26416, 5028.870605, 5070.458984, 5128.387207, 5197.388672, 5223.973145, 5266.86377, 5326.779297, 5387.876465, 5394.142578, 5407.098633, 5454.43457, 5483.030762, 5535.680664, 5629.709473, 5660.98877, 5717.868164, 5742.473145, 5801.95166, 5863.698242, 5877.101074, 5943.460938, 5977.72168, 6009.224121, 6025.922363, 6090.072754, 6111.427246, 6147.383789, 6167.518066, 6182.894531, 6221.664062, 6239.476074, 6275.099121, 6301.746582, 6327.433105, 6344.994629, 6384.345215, 6402.313477, 6430.271973, 6477.962402, 6504.244141, 6537.208008, 6562.448242, 6629.416504, 6640.223633, 6656.312012, 6681.491211, 6720.980469, 6776.507812, 6809.606934, 6828.464844, 6903.807129, 6937.49707, 6979.104004, 7004.175781, 7094.341797, 7167.533691, 7203.688477, 7216.228516, 7258.937012, 7295.681641, 7354.037109, 7385.755859, 7413.208984, 7476.981445, 7503.859375, 7551.812988, 7628.829102, 7671.161133, 7710.434082, 7779.162598, 7787.17041, 7899.316406, 7930.180176, 7963.740723, 8045.463867, 8076.770508, 8175.936035, 8203.317383, 8245.31543, 8286.568359, 8459.90625, 8572.013672, 8639.706055, 8726.999023, 8765.398438, 8794.987305, 8813.998047, 8879.540039, 8934.992188, 8976.319336, 9053.658203, 9078.353516, 9122.805664, 9202.762695, 9233.003906, 9277.84082, 9310.851562, 9352.25, 9403.514648, 9461.003906, 9527.874023, 9553.018555, 9661.833008, 9709.620117, 9752.981445, 9808.758789, 9875.150391, 10018.816406, 10056.21875, 10113.191406, 10206.454102, 10283.986328, 10298.543945, 10323.870117, 10343.829102, 10364.838867, 10392.595703, 10409.451172, 10486.128906, 10513.299805, 10579.87207, 10679.491211, 10788.914062, 10870.691406, 10895.211914, 10929.951172, 10950.189453, 11017.716797, 11044.110352, 11082.87207, 11134.542969, 11341.099609, 11420.306641, 11474.929688, 11519.535156, 11671.750977, 11747.194336, 11801.651367, 11890.22168, 11902.068359, 11940.291016, 12065.067383, 12096.78418, 12143.880859, 12219.443359, 12374.06543, 12410.536133, 12610.25293, 12966.868164, 13094.666992, 13356.899414, 13780.351562},
// 					 {0.000199, 0.000212, 0.000169, 0.000282, 0.000315, 0.00011, 0.000714, 0.000851, 0.000418, 0.000376, 0.003329, 0.000165, 0.000134, 0.002326, 0.000762, 0.012524, 0.006036, 0.006562, 0.000842, 0.001153, 0.008579, 0.000522, 0.004014, 0.017874, 0.005127, 0.000681, 0.000296, 0.000879, 0.007793, 0.003094, 0.00015, 0.001072, 0.000746, 0.000264, 0.002865, 0.000905, 0.000759, 0.000214, 0.023913, 0.003956, 0.024236, 0.002422, 0.000618, 0.018296, 0.032347, 0.005991, 0.07558, 0.006398, 0.014037, 0.000183, 0.142119, 0.012098, 0.002693, 0.035331, 0.032938, 0.000346, 0.002401, 0.001153, 0.006478, 0.009828, 0.00039, 0.001842, 0.003131, 0.000478, 0.003014, 0.077698, 0.026864, 0.023286, 0.136747, 0.044259, 0.000807, 0.004719, 0.009159, 0.002566, 0.008045, 0.008069, 0.031359, 0.050968, 0.002211, 0.009217, 0.067604, 0.000466, 0.011776, 0.008498, 0.009687, 0.013992, 0.004704, 0.006702, 0.034548, 0.008668, 0.005834, 0.017564, 0.001878, 0.013294, 0.010062, 0.02241, 0.014744, 0.007023, 0.001809, 0.011486, 0.000486, 0.003393, 0.00771, 0.001668, 0.001495, 0.002608, 0.013028, 0.007109, 0.007202, 0.005671, 0.001458, 0.002631, 0.006585, 0.002315, 0.007979, 0.014124, 0.014657, 0.016854, 0.01472, 0.000272, 0.017639, 0.025328, 0.0027, 0.002097, 0.014963, 0.002452, 0.001718, 0.01191, 0.000347, 0.003177, 0.000999, 0.008161, 0.006554, 0.003497, 0.003133, 0.002622, 0.004616, 0.000278, 0.000434, 0.001243, 0.00087, 0.00118, 0.001521, 0.001142, 0.001433, 0.0024, 0.002828, 0.000567, 0.001438, 0.001065, 0.000984, 0.000702, 0.002025, 0.002911, 0.000334, 0.000815, 0.00204, 0.002355, 0.00602, 0.006104, 0.000172, 0.000248, 0.003991, 0.001067, 0.001989, 0.000319, 0.000885, 0.00061, 0.001282, 0.001097, 0.000265, 0.001507, 0.000657, 0.000577, 0.000704, 0.000257, 0.001808, 0.000483, 0.001462, 0.002259, 0.000955, 0.00153, 0.000929, 0.001015, 0.000869, 0.002269, 0.001323, 0.000419, 0.000281, 0.00063, 0.001007, 0.000758, 0.000568, 0.000839, 0.000781, 0.0007, 0.000351, 0.000239, 0.000397, 0.000784, 0.001267, 0.000764, 0.000205, 0.000434, 0.00025, 0.000407, 0.000724, 0.000683, 0.000523, 0.001208, 0.001383, 0.00056, 0.000523, 0.000656, 0.00073, 0.000917, 0.000581, 0.000183, 0.00034, 0.000225, 0.000381, 0.00034, 0.000709, 0.000253, 0.000475, 0.000367, 0.000302, 0.000243, 0.000236, 0.000725, 0.001071, 0.000754, 0.000294, 0.000504, 0.000153, 0.000251, 0.000185, 0.000512, 0.000257, 0.000236, 0.000264},
// 					 {0.037373, 0.052621, 0.034992, 0.007283, 0.020894, 0.039366, 0.02172, 0.080762, 0.01073, 0.030374, 11.347621, 0.250497, 0.003003, 0.029773, 0.064742, 0.041319, 0.160617, 0.074239, 0.070462, 0.081376, 1.742128, 0.094458, 0.118118, 0.114671, 16.22468, 0.124674, 0.929901, 0.207507, 5.260874, 0.468945, 0.151743, 0.113905, 0.858629, 0.312032, 0.681292, 0.226613, 4.10525, 2.209525, 15.531523, 2.701931, 11.164743, 14.432785, 5.183246, 5.120167, 10.785985, 5.621345, 7.189432, 0.224989, 9.789886, 1.426463, 7.725437, 13.487297, 5.866043, 14.367177, 8.105537, 1.951878, 7.346977, 9.097975, 3.809859, 2.78652, 1.689023, 2.759876, 7.478241, 0.612173, 11.136609, 9.590416, 9.626924, 2.743096, 13.288805, 8.441283, 3.057089, 4.385682, 6.733718, 2.012041, 13.219875, 7.073492, 8.053406, 3.691797, 4.006056, 6.649934, 11.824608, 3.686732, 9.352308, 6.851695, 8.787091, 6.300767, 8.102697, 7.389534, 6.677041, 8.670206, 9.098822, 5.328605, 4.824327, 6.594918, 9.229033, 7.676878, 7.252686, 7.105542, 5.383064, 6.03987, 3.990431, 8.181636, 6.102848, 6.100335, 5.639215, 7.006717, 5.697086, 4.965932, 3.439446, 4.63863, 3.885537, 4.555542, 7.411173, 3.180784, 7.704012, 6.029956, 4.848226, 6.16622, 5.217057, 3.028229, 6.466422, 7.241338, 4.411375, 4.519316, 4.523526, 5.349358, 4.851877, 6.640423, 4.502851, 5.623986, 5.557533, 8.645494, 12.78482, 5.617779, 5.730846, 5.420396, 6.523194, 3.731001, 7.023934, 8.305269, 5.666197, 6.097881, 9.685064, 5.746222, 5.718359, 10.653225, 5.500795, 5.664104, 6.770084, 5.005131, 6.817771, 6.613601, 5.633458, 5.451234, 6.467109, 6.191212, 10.284433, 6.642643, 12.604399, 6.487517, 4.890622, 5.952169, 5.866233, 6.303813, 10.254891, 4.174046, 5.691041, 7.445745, 6.215418, 4.641966, 7.52187, 2.093736, 5.032464, 5.699707, 4.025893, 3.084193, 5.025727, 3.624714, 4.867353, 4.209711, 5.408381, 5.161625, 5.095548, 4.41338, 4.377313, 5.211261, 4.786959, 3.508168, 2.441383, 4.654056, 4.412329, 5.906176, 7.999792, 5.173798, 6.702735, 4.046844, 4.383189, 5.224495, 3.681605, 5.320544, 7.455486, 4.965522, 2.718595, 4.306597, 3.900278, 4.59173, 10.000554, 4.958094, 5.09664, 4.64753, 6.089958, 3.266243, 4.689268, 4.855221, 5.418213, 4.401811, 4.003278, 4.271333, 4.33586, 4.136639, 4.879501, 4.701822, 6.702258, 3.693381, 6.376034, 8.115578, 6.253546, 6.395779, 5.873038, 5.976527, 5.254345, 6.670045, 5.459854, 9.302153, 3.717638, 5.633894, 4.494937, 7.145057, 5.829341, 7.104627, 7.858233});


// Bowl<double> singing(133, // DC
// 					 {3.065728, 3.315354, 3.675359, 4.322262, 4.588023, 4.767437, 5.094739, 5.542408, 5.874468, 6.126309, 6.283565, 6.547404, 6.959415, 7.01073, 7.13763, 7.294431, 7.902445, 8.337757, 8.938791, 9.521805, 9.617215, 9.984821, 10.444059, 10.577646, 10.638262, 11.091297, 11.635489, 11.761643, 12.125051, 13.084642, 13.245205, 13.641292, 13.770122, 13.990788, 14.394242, 15.275445, 15.976557, 16.188725, 16.371504, 17.078135, 17.550676, 17.65118, 18.308786, 18.438675, 23.722126, 26.276787, 26.436869, 28.704315, 29.116108, 29.619104, 30.687994, 32.607754, 32.685326, 37.696827, 309.214783, 312.659088, 313.592743, 613.072754, 618.428162, 625.3172, 626.567566, 876.443787, 876.8078, 884.329285, 886.541382, 1181.214233, 1186.681885, 1635.813354, 1636.400146, 1638.750488, 1752.844482, 1768.649292, 1827.130859, 1947.299561, 2521.574463, 2539.987305, 2851.080078, 3271.645264, 3416.049561, 3589.178955, 3602.339111, 4173.306152, 4479.540527, 4594.560547, 4759.831055, 4778.491699, 4871.825684, 5111.464844, 5239.012695, 5369.076172, 5392.509277, 5574.294434, 5700.25, 5715.35498, 5991.896484, 6047.927246, 6080.304199, 6129.626953, 6144.554199, 6153.26123, 6159.165039, 6241.011719, 6396.527832, 6415.177246, 6455.712891, 6536.665039, 6619.995605, 6640.544434, 6717.310059, 6861.630371, 6957.75293, 7026.930176, 7058.639648, 7158.344238, 7207.447754, 7260.827637, 7301.806152, 7319.185547, 7497.765137, 7585.94873, 7720.664062, 7802.819824, 8411.555664, 8476.21582, 8524.585938, 8625.84082, 8639.860352, 8711.802734, 8758.788086, 8791.068359, 9131.621094, 9270.228516, 9485.201172},
// 					 {0.000152, 0.000166, 0.000308, 0.000229, 0.000247, 0.000515, 0.002065, 0.001303, 0.000479, 0.000661, 0.000387, 0.000527, 0.000555, 0.000548, 0.000205, 0.000152, 0.001292, 0.000545, 0.000216, 0.000276, 0.0004, 0.000157, 0.00066, 0.000215, 0.00035, 0.000383, 0.000325, 0.000411, 0.00035, 0.001038, 0.001239, 0.000725, 0.001112, 0.000452, 0.000164, 0.002085, 0.000119, 0.000146, 0.000476, 0.000211, 0.000211, 0.000242, 0.000516, 0.000494, 0.000126, 0.000126, 0.000218, 0.000349, 0.000322, 0.001423, 0.000167, 0.000644, 0.001018, 0.000807, 0.001266, 0.006959, 0.009353, 0.000235, 0.000439, 0.00054, 0.000373, 0.03347, 0.047287, 0.011589, 0.011108, 0.000354, 0.000249, 0.007576, 0.015703, 0.001904, 0.000826, 0.000328, 0.144025, 0.000507, 0.000918, 0.023297, 0.000385, 0.001464, 0.000429, 0.009404, 0.021492, 0.000508, 0.000251, 0.002602, 0.001771, 0.010082, 0.001518, 0.020644, 0.003793, 0.000537, 0.009951, 0.003046, 0.002985, 0.00476, 0.006482, 0.004781, 0.003927, 0.000758, 0.00045, 0.0009, 0.000912, 0.00112, 0.000249, 0.000285, 0.000786, 0.005479, 0.005106, 0.002928, 0.004913, 0.005537, 0.003225, 0.001958, 0.004476, 0.003678, 0.000258, 0.013547, 0.00018, 0.004009, 0.00262, 0.004137, 0.001156, 0.000813, 0.000198, 0.000815, 0.000874, 0.002423, 0.004494, 0.000236, 0.001686, 0.001382, 0.001178, 0.000387, 0.000752},
// 					 {0.017514, 0.018186, 0.022999, 0.00587, 0.021286, 0.006294, 0.037743, 0.003454, 0.005323, 0.003543, 0.024758, 0.027165, 0.006505, 0.02746, 0.003974, 0.008678, 0.00348, 0.01352, 0.004124, 0.012516, 0.016423, 0.017758, 0.002263, 0.002742, 0.032838, 0.024684, 0.023415, 0.034546, 0.003232, 0.044376, 0.012614, 0.029634, 0.019482, 0.035551, 0.018116, 0.051781, 0.003737, 0.017188, 0.026362, 0.020075, 0.020077, 0.00436, 0.014263, 0.036492, 0.016055, 0.01608, 0.020307, 0.023955, 0.023335, 1.260845, 0.006402, 0.02871, 0.016252, 3.336002, 0.01585, 0.017343, 9.026298, 2.860603, 0.031171, 0.034195, 0.549282, 0.034531, 8.489212, 0.033928, 0.125124, 2.635726, 0.480785, 0.061922, 0.425168, 0.060235, 0.160606, 0.173731, 22.697697, 0.049043, 0.925591, 0.343603, 4.51299, 4.80221, 2.799294, 0.399965, 6.122001, 1.438885, 0.527008, 5.412087, 0.892444, 0.469395, 6.898727, 1.870243, 0.573897, 3.780981, 1.479105, 11.392643, 10.692216, 14.626091, 10.114235, 2.279376, 5.718638, 0.368736, 0.472012, 5.714033, 0.359305, 8.299895, 1.097349, 2.452336, 6.126019, 11.00643, 16.452227, 11.43959, 1.718224, 13.963451, 7.519924, 2.740179, 12.63541, 15.760287, 0.763621, 14.273875, 2.064725, 1.745003, 6.249007, 10.183338, 11.605689, 10.30165, 3.745539, 9.937495, 11.238976, 9.90193, 15.734421, 4.82794, 12.340368, 7.723615, 11.143239, 8.281621, 10.960927});


// Bowl<double> singing(206, // HS
// 					 {60.891834, 69.067596, 143.254578, 143.594757, 144.307602, 287.190125, 288.612823, 289.845673, 412.55896, 418.296356, 419.101898, 499.292389, 556.870972, 558.146118, 561.8927, 562.604431, 644.077148, 787.077454, 787.543823, 790.568665, 825.022217, 825.122681, 836.595459, 836.761902, 932.220703, 1107.017456, 1200.110718, 1204.16626, 1205.847534, 1241.733398, 1250.354492, 1251.879272, 1363.365234, 1395.483276, 1575.139404, 1635.72522, 1665.790283, 1673.842529, 1779.620117, 1865.508423, 1923.650146, 1959.432495, 2029.246948, 2035.30249, 2191.98291, 2375.494629, 2490.805664, 2500.790039, 2520.094238, 2567.483887, 2594.375732, 2777.071289, 2852.955322, 2876.901611, 2991.641113, 3032.241943, 3049.772217, 3140.467041, 3163.015137, 3172.286865, 3301.879883, 3370.762207, 3412.799561, 3441.135986, 3446.584473, 3461.653809, 3484.016846, 3559.643555, 3604.074463, 3627.220215, 3692.533447, 3707.935059, 3736.224365, 3851.937744, 3937.0354, 3951.072021, 3992.676025, 4011.239014, 4033.801025, 4047.717773, 4079.19751, 4121.653809, 4155.465332, 4178.152832, 4185.856934, 4239.771484, 4247.790527, 4273.456055, 4286.646484, 4298.427734, 4368.973633, 4401.034668, 4443.408691, 4465.45752, 4495.016602, 4511.828125, 4542.272949, 4565.95166, 4582.086914, 4607.268066, 4640.306641, 4656.398438, 4683.065918, 4725.78125, 4750.849609, 4774.746582, 4800.420898, 4830.607422, 4854.638672, 4861.036621, 4868.122559, 4908.07959, 4917.544922, 4944.791016, 4959.753906, 4985.920898, 4997.083496, 5009.750977, 5059.334473, 5071.841797, 5103.848145, 5168.136719, 5207.208496, 5226.186523, 5232.684082, 5276.281738, 5284.765625, 5327.456055, 5345.511719, 5377.521484, 5442.379395, 5486.428711, 5524.151855, 5539.149902, 5557.820801, 5613.859863, 5625.959473, 5651.291992, 5699.79541, 5749.983887, 5768.519043, 5841.150391, 5902.138672, 5963.464844, 6066.007324, 6083.458984, 6135.050293, 6184.608887, 6253.479004, 6338.160156, 6367.101074, 6423.702148, 6478.754395, 6575.655273, 6687.527344, 6835.200684, 6875.827148, 6920.716309, 7025.160156, 7061.283203, 7098.540527, 7135.227539, 7226.455078, 7296.909668, 7400.046875, 7435.776855, 7512.906738, 7526.799805, 7563.932617, 7622.659668, 7715.032227, 8010.992188, 8105.095215, 8300.399414, 8375.211914, 8435.088867, 8603.379883, 8654.033203, 8701.249023, 8731.250977, 8818.225586, 8913.924805, 9182.145508, 9335.556641, 9346.714844, 9375.212891, 9518.407227, 9618.052734, 9650.648438, 9862.951172, 10038.507812, 10131.31543, 10144.591797, 10187.419922, 10222.197266, 10267.254883, 10319.551758, 10398.228516, 10472.390625, 10543.143555, 10627.458008, 10638.533203, 10720.631836, 10932.208984, 11399.942383, 11715.085938},
// 					 {0.000237, 0.00152, 0.007626, 0.005539, 0.002669, 0.000928, 0.001647, 0.003335, 0.001478, 0.002857, 0.005375, 0.000143, 0.000769, 0.001073, 0.000448, 0.000343, 0.000225, 0.012875, 0.009864, 0.001998, 0.005956, 0.002824, 0.002816, 0.004289, 0.000301, 0.00022, 0.001806, 0.004851, 0.001027, 0.007071, 0.04908, 0.028045, 0.000145, 0.000315, 0.001864, 0.000145, 0.001021, 0.001526, 0.035784, 0.00229, 0.000447, 0.000962, 0.003035, 0.003365, 0.000476, 0.008703, 0.000157, 0.000354, 0.000167, 0.00186, 0.008106, 0.000156, 0.000172, 0.001935, 0.00125, 0.032603, 0.014176, 0.004314, 0.001031, 0.001762, 0.000216, 0.016703, 0.000143, 0.000857, 0.02349, 0.000294, 0.000168, 0.001774, 0.001078, 0.010985, 0.006735, 0.037172, 0.003902, 0.002441, 0.008008, 0.007696, 0.000522, 0.001169, 0.000332, 0.004958, 0.003454, 0.00043, 0.039741, 0.000399, 0.000188, 0.000263, 0.000188, 0.000922, 0.001055, 0.000311, 0.005917, 0.002187, 0.00976, 0.015926, 0.001969, 0.004652, 0.002916, 0.000539, 0.001018, 0.024574, 0.005021, 0.004383, 0.007457, 0.000873, 0.002446, 0.001512, 0.001584, 0.021602, 0.00029, 0.000895, 0.00085, 0.000172, 0.001592, 0.000641, 0.00165, 0.00349, 0.000226, 0.005187, 0.005263, 0.000473, 0.002698, 0.003018, 0.00062, 0.001478, 0.013886, 0.004463, 0.002807, 0.002787, 0.000968, 0.002006, 0.001712, 0.001878, 0.001178, 0.000756, 0.000567, 0.00201, 0.000739, 0.000274, 0.001051, 0.000665, 0.002686, 0.00388, 0.001313, 0.001499, 0.000276, 0.000389, 0.003348, 0.000781, 0.00439, 0.000804, 0.000461, 0.00184, 0.003549, 0.000463, 0.001046, 0.000552, 0.000479, 0.000582, 0.000762, 0.000449, 0.000328, 0.00023, 0.000185, 0.000686, 0.00054, 0.001234, 0.000679, 0.000957, 0.000779, 0.000722, 0.000183, 0.000151, 0.000188, 0.000217, 0.000691, 0.000456, 0.000383, 0.000541, 0.000192, 0.000394, 0.00075, 0.000213, 0.000163, 0.000291, 0.000281, 0.000198, 0.000172, 0.000174, 0.000361, 0.000171, 0.000242, 0.000478, 0.000494, 0.000245, 0.00027, 0.000208, 0.00021, 0.000232, 0.000229, 0.000277, 0.000279, 0.000249, 0.000155, 0.000163, 0.000234, 0.000593},
// 					 {2.089314, 5.87001, 0.201925, 0.01698, 0.017126, 0.031961, 0.037708, 1.260237, 0.023636, 0.021981, 4.945629, 1.286837, 0.041923, 0.38163, 0.037407, 0.041541, 0.292189, 0.496083, 0.035046, 0.035568, 0.082907, 0.04546, 0.043934, 0.081618, 0.052593, 0.366763, 0.058812, 4.858521, 0.058235, 0.057924, 17.057402, 0.059964, 1.880522, 4.227425, 0.108655, 0.447044, 0.22222, 9.691446, 0.088908, 10.786135, 1.153983, 4.356522, 0.288331, 5.684981, 1.186237, 0.468138, 1.945435, 4.395188, 0.524443, 10.11207, 6.617999, 2.42429, 0.61534, 4.078528, 4.634416, 0.725429, 6.082804, 0.356925, 3.543717, 4.998407, 5.544333, 8.462019, 0.77715, 0.513796, 6.197491, 1.447263, 0.637685, 0.154374, 0.381236, 0.394517, 5.315726, 1.382386, 2.657791, 1.326976, 2.238757, 1.617535, 3.707936, 0.456426, 2.583225, 4.877084, 5.712942, 1.026547, 0.190031, 2.738492, 0.316407, 1.860346, 1.396596, 1.048143, 0.83668, 0.041626, 7.658857, 2.07353, 4.901319, 3.494575, 1.678186, 4.812719, 5.53328, 0.861339, 4.416457, 7.794722, 2.007276, 2.320472, 8.70589, 4.253673, 1.079639, 2.730819, 0.627113, 7.272054, 1.901984, 4.280031, 1.466935, 0.660531, 2.335935, 1.369451, 0.610552, 5.723713, 1.799464, 13.023511, 12.319227, 3.604234, 0.864628, 1.210023, 2.543139, 3.858164, 5.951369, 6.060007, 3.693052, 7.901261, 1.715649, 0.942179, 4.976991, 1.774001, 9.143065, 0.579227, 7.589321, 6.851118, 4.372006, 3.184218, 4.669193, 3.608548, 6.558979, 7.025728, 9.049472, 11.70297, 4.099931, 3.39633, 8.009485, 7.144696, 8.125197, 6.426344, 6.614451, 10.631212, 8.241789, 4.772953, 6.864217, 9.915477, 6.895442, 7.76844, 6.087763, 6.667068, 6.467626, 6.133448, 3.478086, 8.137124, 5.744788, 7.704323, 5.316242, 9.749613, 9.973007, 6.860775, 5.187094, 4.759588, 5.252267, 4.972688, 5.933104, 7.129152, 4.582989, 5.043719, 3.52889, 5.725407, 4.99123, 4.134008, 4.06014, 6.173335, 4.909048, 5.358491, 4.953581, 5.087773, 4.856456, 3.368578, 3.89017, 6.877347, 7.296867, 4.622803, 3.97127, 4.205859, 3.654383, 5.715547, 4.572093, 4.344374, 6.085172, 5.597405, 4.837286, 3.717774, 5.969302, 7.428186});


Bowl<double> singing(303, // SGG
					 {4.201722, 4.843774, 4.998947, 5.221922, 5.297574, 5.369791, 5.53821, 5.737288, 5.858109, 6.197587, 6.370114, 6.476667, 6.612827, 6.71594, 7.007713, 7.142496, 7.655586, 7.766366, 8.163503, 8.3594, 8.441711, 8.716471, 9.105967, 9.352533, 9.385259, 10.242445, 10.453485, 10.551891, 10.797949, 10.899831, 11.013401, 11.087721, 11.573125, 12.096893, 12.188701, 12.372066, 12.438492, 12.518072, 12.827442, 12.870362, 13.237469, 13.503278, 13.620262, 13.77518, 13.837638, 13.948101, 14.099451, 14.438501, 17.565182, 17.622534, 17.823954, 18.03335, 18.375364, 18.609859, 21.475536, 29.088411, 29.492254, 30.755255, 32.667435, 75.299187, 85.591209, 120.618019, 219.597397, 221.221069, 221.514999, 428.479797, 439.195465, 440.882202, 443.029388, 595.151794, 649.331909, 653.200073, 653.406494, 705.956787, 731.352478, 808.128479, 874.713135, 875.482971, 1018.744263, 1030.17041, 1171.296753, 1241.234375, 1249.266602, 1249.375366, 1306.397461, 1468.03894, 1524.984009, 1678.941284, 1734.634033, 1757.068115, 1902.392212, 1954.476685, 1975.524658, 2144.931641, 2178.833008, 2195.548096, 2281.357178, 2482.442383, 2498.538818, 2558.572998, 2579.416016, 2606.822021, 2629.648193, 2782.881104, 2797.499268, 3019.220215, 3150.096191, 3197.088135, 3225.644287, 3435.925781, 3446.137451, 3704.983398, 3856.993896, 3912.875732, 4023.429443, 4045.871582, 4101.188477, 4212.346191, 4267.321777, 4350.467773, 4355.842285, 4478.289062, 4517.796387, 4533.694336, 4551.858398, 4586.106934, 4605.034668, 4653.068848, 4669.737793, 4699.714844, 4713.399414, 4739.168945, 4753.234375, 4772.397949, 4829.891113, 4916.202148, 4972.973145, 4980.20752, 5152.364258, 5176.24707, 5189.240723, 5235.375488, 5266.09668, 5287.249512, 5327.393066, 5359.235352, 5372.847656, 5392.495117, 5426.852539, 5486.910645, 5538.273438, 5546.206055, 5566.782227, 5578.657227, 5594.811035, 5621.115234, 5660.813477, 5674.524902, 5700.635254, 5738.180176, 5741.384277, 5828.853027, 5836.043945, 5872.695312, 5889.029297, 5903.768555, 5919.973145, 5969.416992, 5977.463379, 5988.912598, 6018.056641, 6023.544434, 6044.771484, 6057.59082, 6104.291504, 6138.212891, 6147.133789, 6219.155762, 6247.133301, 6292.755859, 6313.756348, 6360.042969, 6368.628906, 6420.395508, 6473.729492, 6510.253418, 6555.633789, 6585.793945, 6643.013672, 6695.554199, 6749.35498, 6809.76709, 6830.635742, 6843.862793, 6880.481934, 6892.388184, 6936.746582, 6965.886719, 7016.277344, 7065.15332, 7093.962402, 7167.864746, 7309.778809, 7338.387695, 7391.726074, 7469.888184, 7508.034668, 7582.125488, 7629.09375, 7703.970215, 7780.54248, 7826.588867, 7859.059082, 7904.168457, 8006.429688, 8077.828125, 8112.808594, 8165.14209, 8234.629883, 8267.003906, 8397.912109, 8439.449219, 8496.461914, 8516.064453, 8540.318359, 8577.473633, 8629.020508, 8673.521484, 8698.548828, 8748.404297, 8798.47168, 8846.545898, 8900.374023, 8958.544922, 9018.958008, 9073.65625, 9126.482422, 9159.109375, 9205.864258, 9294.423828, 9342.211914, 9365.506836, 9425.704102, 9467.670898, 9492.12207, 9527.808594, 9589.978516, 9657.268555, 9717.970703, 9802.177734, 9868.15625, 9940.09668, 10056.634766, 10125.368164, 10137.615234, 10177.729492, 10226.880859, 10261.541992, 10314.554688, 10367.474609, 10435.157227, 10504.915039, 10581.125, 10679.849609, 10710.212891, 10795.301758, 10901.756836, 11006.536133, 11075.056641, 11121.789062, 11153.756836, 11186.775391, 11307.234375, 11443.230469, 11509.691406, 11523.254883, 11639.056641, 11759.074219, 11880.486328, 12084.119141, 12134.084961, 12195.213867, 12324.018555, 12412.183594, 12439.822266, 12469.378906, 12610.935547, 12704.5, 12746.520508, 12831.006836, 12868.865234, 12950.84082, 13076.189453, 13244.769531, 13346.701172, 13481.34082, 13563.28418, 13672.976562, 14080.106445, 14187.863281, 14236.256836, 14288.369141, 14588.297852},
					 {0.000176, 0.000199, 0.000195, 0.000195, 0.000317, 0.000209, 0.001144, 0.000267, 0.000384, 0.000149, 0.000196, 0.000228, 0.000397, 0.000473, 0.000207, 0.000143, 0.00016, 0.00027, 0.000142, 0.000483, 0.000365, 0.000205, 0.000265, 0.000288, 0.000152, 0.000154, 0.000381, 0.000285, 0.00021, 0.000142, 0.000348, 0.000334, 0.000126, 0.000134, 0.000129, 0.000556, 0.000761, 0.000577, 0.000675, 0.000816, 0.000427, 0.00018, 0.001141, 0.000291, 0.000284, 0.000267, 0.000184, 0.008478, 0.000212, 0.000219, 0.000156, 0.000335, 0.000338, 0.000334, 0.000126, 0.000261, 0.000172, 0.001077, 0.000397, 0.003474, 0.001443, 0.000306, 0.005375, 0.016481, 0.010199, 0.006043, 0.000939, 0.004667, 0.000951, 0.000365, 0.004324, 0.054182, 0.058239, 0.000237, 0.010407, 0.013033, 0.000932, 0.003825, 0.000258, 0.006212, 0.018381, 0.00745, 0.01518, 0.029283, 0.006269, 0.013597, 0.012555, 0.000507, 0.00063, 0.000416, 0.003248, 0.014291, 0.019767, 0.002477, 0.005088, 0.000976, 0.001215, 0.002192, 0.006191, 0.012653, 0.004402, 0.001966, 0.0019, 0.003757, 0.024864, 0.007443, 0.000676, 0.004118, 0.005057, 0.000124, 0.000748, 0.002755, 0.00015, 0.00129, 0.000332, 0.001223, 0.003646, 0.033896, 0.000688, 0.010226, 0.039464, 0.001953, 0.004769, 0.001945, 0.000422, 0.002969, 0.000407, 0.14042, 0.092809, 0.008365, 0.002184, 0.015761, 0.030862, 0.00329, 0.020817, 0.055126, 0.000386, 0.002027, 0.003723, 0.00135, 0.004188, 0.011783, 0.000313, 0.04956, 0.001904, 0.00048, 0.001887, 0.002847, 0.00085, 0.013905, 0.004978, 0.001065, 0.001696, 0.00041, 0.014174, 0.009982, 0.004588, 0.000637, 0.007789, 0.010616, 0.009251, 0.001366, 0.01799, 0.001022, 0.000257, 0.000212, 0.011846, 0.010307, 0.001472, 0.036039, 0.000183, 0.000412, 0.006933, 0.002529, 0.002998, 0.000809, 0.011386, 0.020539, 0.000169, 0.006012, 0.002826, 0.00219, 0.011237, 0.002962, 0.030904, 0.013742, 0.002979, 0.006494, 0.005419, 0.005319, 0.002769, 0.006981, 0.000531, 0.000377, 0.002344, 0.00298, 0.001367, 0.003985, 0.008498, 0.001355, 0.002844, 0.00519, 0.008679, 0.018779, 0.003253, 0.002232, 0.00213, 0.020784, 0.008089, 0.001496, 0.016491, 0.013998, 0.003786, 0.002075, 0.007245, 0.001223, 0.001769, 0.001603, 0.004094, 0.002862, 0.001, 0.0016, 0.007055, 0.009573, 0.001406, 0.004673, 0.000238, 0.007961, 0.003236, 0.00332, 0.003153, 0.004999, 0.005352, 0.001683, 0.006144, 0.003675, 0.007358, 0.001238, 0.003896, 0.007305, 0.001256, 0.002975, 0.001296, 0.007713, 0.006626, 0.003076, 0.002408, 0.000837, 0.004896, 0.003874, 0.005431, 0.000486, 0.003116, 0.009709, 0.010435, 0.005965, 0.009794, 0.002732, 0.003248, 0.001943, 0.001078, 0.000817, 0.003643, 0.005035, 0.001753, 0.004523, 0.007354, 0.006588, 0.000279, 0.002834, 0.001505, 0.002482, 0.004259, 0.000638, 0.002869, 0.00087, 0.004195, 0.003794, 0.001194, 0.002388, 0.003118, 0.002461, 0.003427, 0.000728, 0.000579, 0.001763, 0.00053, 0.000696, 0.000551, 0.000183, 0.002569, 0.001383, 0.001417, 0.002147, 0.00134, 0.000378, 0.00042, 0.001118, 0.000502, 0.000853, 0.002823, 0.001693, 0.001413},
					 {0.007124, 0.003267, 0.000904, 5.8e-05, 0.024105, 0.004581, 0.003642, 0.001976, 0.018751, 0.000975, 0.001902, 0.000272, 0.025917, 0.019969, 0.00221, 0.017724, 0.013591, 0.006263, 0.00148, 0.020091, 0.018454, 0.015053, 0.016564, 0.020073, 0.003042, 0.01829, 0.025598, 0.00503, 0.005227, 0.001685, 0.024857, 0.017928, 0.016717, 0.00185, 0.012324, 0.00482, 0.013789, 0.007386, 0.006484, 0.023182, 0.005767, 0.000369, 0.034424, 0.007603, 0.001324, 0.001295, 0.002398, 8.88736, 0.015259, 0.021139, 0.004552, 0.024559, 0.024631, 0.001934, 0.006698, 0.001456, 0.014026, 0.266314, 0.00418, 1.455225, 6.445071, 3.140385, 0.012691, 0.41958, 0.013313, 8.716169, 0.026039, 6.032209, 0.026731, 2.661587, 0.025792, 0.027882, 0.088102, 2.868919, 6.883075, 19.213428, 0.041762, 0.87782, 2.36669, 0.974357, 14.738274, 0.053229, 0.044625, 0.204494, 0.057477, 9.555686, 15.595434, 3.615658, 0.070461, 0.77739, 4.518085, 0.537883, 0.783035, 5.359831, 8.164952, 0.976879, 4.628712, 0.052905, 0.064046, 5.672294, 1.300721, 6.819942, 0.055831, 0.280718, 6.245724, 13.63195, 6.056912, 0.196484, 0.145182, 0.230514, 8.180351, 0.843955, 2.384194, 9.334962, 2.583042, 0.403572, 15.658063, 10.973523, 5.411939, 3.510916, 9.847503, 10.711346, 0.436184, 0.055895, 0.893506, 5.552295, 4.056095, 19.288071, 2.941496, 0.40433, 3.489034, 0.588683, 0.248263, 0.074604, 7.401088, 4.670234, 0.541354, 10.294656, 13.797898, 9.622091, 13.79984, 14.475632, 2.743372, 0.254769, 4.965328, 2.784676, 1.486501, 1.115291, 1.239221, 3.355535, 7.882424, 3.795186, 0.630071, 1.910697, 0.719043, 6.838822, 0.581886, 0.216789, 6.814548, 8.06165, 5.23627, 1.817474, 5.971052, 7.394031, 2.955996, 1.875829, 3.059296, 8.186586, 3.170913, 12.175147, 2.597826, 1.077682, 6.67024, 5.41688, 7.926644, 2.334416, 11.329758, 3.14419, 2.510098, 8.309871, 6.322654, 5.677543, 4.21899, 10.936189, 6.430318, 15.322963, 12.068785, 9.161914, 3.252153, 0.062417, 1.998141, 13.563364, 3.528625, 2.689631, 11.053658, 12.092777, 12.689943, 15.668141, 6.692449, 8.272095, 11.110911, 11.204617, 13.364433, 13.272357, 9.683157, 10.498839, 8.350945, 10.69117, 7.829896, 9.959785, 13.690032, 13.317191, 10.177665, 11.006845, 9.544846, 9.280193, 6.618253, 7.320985, 10.530099, 7.621702, 5.86374, 8.890417, 6.680779, 13.850163, 8.56789, 8.631873, 6.126333, 13.197493, 7.679001, 9.621755, 8.022496, 10.488451, 9.011983, 12.493008, 8.654826, 9.351219, 7.280309, 7.607956, 12.08911, 8.372477, 7.842084, 11.108507, 10.0447, 6.565158, 13.868208, 11.179441, 5.691964, 11.251154, 8.947085, 9.545569, 11.432121, 7.500013, 8.31392, 12.308249, 13.771791, 9.35908, 8.864653, 7.214482, 7.529981, 11.361219, 6.961046, 6.674578, 9.416767, 11.661929, 10.47766, 8.527106, 10.635061, 6.78996, 6.211581, 11.005956, 6.925037, 9.140011, 12.454788, 5.483278, 10.0917, 8.498904, 9.268011, 10.796215, 9.171135, 10.799324, 9.347867, 8.686636, 9.505985, 7.925937, 6.80151, 9.466414, 7.56689, 8.542401, 7.528415, 5.195681, 8.630869, 12.041546, 11.378701, 8.654313, 11.08199, 7.681087, 7.020037, 11.340844, 7.579826, 9.301841, 14.083835, 12.098919, 11.667035});

inline int process(const float* in, float* out)
{
	singing.fill(out, BSIZE);

	return 0;
}


Audio A = Audio(process, BSIZE);

int main()
{
	// bind keyboard interrupt to program exit
	signal(SIGINT, interrupt);

	A.startup(1, 1, true); // startup audio engine; 1 input, 1 output, console output on

	while (running)
	{
		Pa_Sleep(1);
	}

	A.shutdown(); // shutdown audio engine

	return 0;
}
